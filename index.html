<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>RakStore</title>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Ñ–∞–π–ª —Å–æ —Å—Ç–∏–ª—è–º–∏ -->
    <link rel="stylesheet" href="style.css">
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É –∏–∫–æ–Ω–æ–∫ Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <!-- –®–∞–ø–∫–∞ -->
    <header>
        <h1>RakStore</h1>
        <!-- –ö–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω–∫—É -->
        <button id="admin-login-btn"><i class="fa-solid fa-lock"></i></button>
    </header>

    <main>
        <!-- –°–¢–†–ê–ù–ò–¶–ê 1: –ü–û–ö–£–ü–ö–ò -->
        <div id="page-purchases" class="page active">
            <h2>–ú–æ–∏ –ø–æ–∫—É–ø–∫–∏</h2>
            <div id="purchases-list-container">
                <!-- –°—é–¥–∞ –±—É–¥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ–∫—É–ø–∫–∏ –∏–∑ script.js -->
            </div>
        </div>

        <!-- –°–¢–†–ê–ù–ò–¶–ê 2: –ì–ê–†–ê–ù–¢–ò–ò -->
        <div id="page-warranties" class="page">
            <h2>–ú–æ–∏ –≥–∞—Ä–∞–Ω—Ç–∏–∏</h2>
            <div id="warranties-container">
                <p style="text-align:center; color:#888">–†–∞–∑–¥–µ–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.</p>
            </div>
        </div>

        <!-- –°–¢–†–ê–ù–ò–¶–ê 3: –ü–†–û–§–ò–õ–¨ -->
        <div id="page-profile" class="page">
            <h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>
            <div id="profile-content">
                <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                <div class="profile-card">
                    <img id="profile-avatar" src="https://t.me/i/userpic/320/null.jpg" alt="Avatar">
                    <h3 id="profile-name">–ó–∞–≥—Ä—É–∑–∫–∞...</h3>
                    <div class="profile-level">
                        <span>–£—Ä–æ–≤–µ–Ω—å <span id="profile-level-num">1</span></span>
                        <div class="progress-bar">
                            <div id="profile-level-progress"></div>
                        </div>
                    </div>
                </div>

                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="profile-stats">
                    <div class="stat-item">
                        <span class="stat-value" id="stat-purchases">0</span>
                        <span class="stat-label">–ü–æ–∫—É–ø–æ–∫</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="stat-spent">0 ‚ÇΩ</span>
                        <span class="stat-label">–ü–æ—Ç—Ä–∞—á–µ–Ω–æ</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="stat-points">0</span>
                        <span class="stat-label">–ë–∞–ª–ª–æ–≤</span>
                    </div>
                </div>

                <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è -->
                <h3>üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>
                <div id="achievements-grid" class="achievements-grid">
                    <!-- –ê—á–∏–≤–∫–∏ –±—É–¥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
                </div>
            </div>
        </div>

        <!-- –°–¢–†–ê–ù–ò–¶–ê 4: –ü–û–ú–û–©–¨ -->
        <div id="page-help" class="page">
            <h2>–ü–æ–º–æ—â—å</h2>
            <p style="text-align:center; color:#888">–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏, –µ—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã.</p>
        </div>

        <!-- –°–¢–†–ê–ù–ò–¶–ê 5: –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–¨ (–°–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
        <div id="page-admin" class="page">
            <h2>üëë –ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å</h2>
            
            <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
            <div id="admin-auth-block">
                <input type="password" id="admin-password-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∞">
                <button onclick="loginAdmin()">–í–æ–π—Ç–∏</button>
                <p id="auth-error" style="color:red; display:none;">–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!</p>
            </div>

            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –∞–¥–º–∏–Ω–∫–∏ (—Å–∫—Ä—ã—Ç –¥–æ –≤—Ö–æ–¥–∞) -->
            <div id="admin-panel-content" style="display: none;">
                
                <div class="admin-section">
                    <h3>üé® –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º</h3>
                    <p>–ò–∑–º–µ–Ω–∏—Ç—å —Ç–µ–º—É –¥–ª—è –í–°–ï–• –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</p>
                    <div class="theme-switcher">
                        <button onclick="setGlobalTheme('light')">‚òÄÔ∏è –°–≤–µ—Ç–ª–∞—è</button>
                        <button onclick="setGlobalTheme('dark')">üåô –¢–µ–º–Ω–∞—è</button>
                        <button onclick="setGlobalTheme('blue')">üíß –°–∏–Ω—è—è</button>
                    </div>
                </div>

                <div class="admin-section">
                    <h3>‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∫—É–ø–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é</h3>
                    <input type="text" id="adm-user-id" placeholder="ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: user1)">
                    <input type="text" id="adm-item-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞">
                    <input type="number" id="adm-item-price" placeholder="–¶–µ–Ω–∞">
                    <input type="date" id="adm-item-date">
                    <input type="text" id="adm-item-cat" placeholder="–ö–∞—Ç–µ–≥–æ—Ä–∏—è (electronics, books...)">
                    <button onclick="adminAddPurchase()">–î–æ–±–∞–≤–∏—Ç—å –ø–æ–∫—É–ø–∫—É</button>
                </div>

                <div class="admin-section">
                    <h3>üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h3>
                    <input type="text" id="new-admin-password" placeholder="–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∞">
                    <button onclick="changeAdminPassword()">–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
                </div>

                <button onclick="logoutAdmin()" class="logout-btn">–í—ã–π—Ç–∏</button>
            </div>
        </div>
    </main>

    <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="bottom-nav">
        <button class="nav-btn active" data-page="page-purchases">
            <i class="fa-solid fa-bag-shopping"></i>
            <span>–ü–æ–∫—É–ø–∫–∏</span>
        </button>
        <button class="nav-btn" data-page="page-warranties">
            <i class="fa-solid fa-shield-halved"></i>
            <span>–ì–∞—Ä–∞–Ω—Ç–∏–∏</span>
        </button>
        <button class="nav-btn" data-page="page-profile">
            <i class="fa-solid fa-user"></i>
            <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
        </button>
        <button class="nav-btn" data-page="page-help">
            <i class="fa-solid fa-circle-question"></i>
            <span>–ü–æ–º–æ—â—å</span>
        </button>
    </nav>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="script.js"></script>
</body>
</html>
